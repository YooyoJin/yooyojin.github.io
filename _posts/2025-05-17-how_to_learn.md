---
title: 如何学习
author: YooyoJin
date: 2025-05-17
category: Jekyll
layout: post
mermaid: true
---

作为一个嵌入软件开发者，我们时常需要看别人的代码，原理图，PCB，芯片手册。但是一直困扰我的是，信息量太大，我有时很难从大量的信息当中找到我需要的东西。当我们拿到一个崭新的项目时，我们应该如何去快速的抓住重点？

## 1. 代码部分

阅读和理解现有代码是至关重要的第一步。以下是我总结的代码阅读方法和重点要点：

1. 宏观把握项目结构
浏览目录结构：先了解项目的整体组织方式，识别主要模块和组件

查看构建/依赖文件：如package.json、build.gradle、pom.xml等

阅读文档：README、架构文档、API文档等（如果有的话）

2. 理解代码执行流程
找到入口点：如main函数、启动脚本、配置等

跟踪关键流程：选择一个核心功能，跟踪代码执行路径

绘制调用图：复杂逻辑可以画简单的调用关系图

3. 代码阅读技巧
先看接口再看实现：先理解模块/类的公开接口，再看内部实现

关注数据流动：理解数据如何在不同模块间传递和转换

识别设计模式：注意代码中使用的设计模式和架构风格

注意边界条件：查看错误处理和异常处理逻辑

4. 实用工具辅助
使用IDE导航：利用"转到定义"、"查找引用"等功能

代码搜索：全局搜索关键类名、方法名

调试工具：通过调试逐步执行理解复杂逻辑

可视化工具：如UML工具、调用图生成工具

5. 重点关注的代码部分
核心业务逻辑：实现项目主要功能的代码

公共组件和工具类：被多处复用的代码

配置和常量：影响系统行为的配置项

数据模型：核心数据结构和数据库表关系

测试代码：测试用例能揭示代码预期行为

6. 记录和理解
做笔记：记录关键发现和疑问

提问：向原开发者或团队询问设计决策

小修改验证：通过小的改动测试你的理解是否正确

记住，阅读代码是一个渐进的过程，不要期望一次性理解所有内容。从宏观到微观，逐步深入是关键。


先梳理框架，再去梳理细节

## 1. 电路部分

## 1. 芯片手册

### 1. 单片机用户手册

拿到一款新的单片机时，芯片手册(DataSheet/Reference Manual)是最重要的参考资料。以下是阅读MCU手册的重点和方法：

一、芯片手册的典型结构
概述部分(Overview)

芯片特点摘要

应用领域

主要性能参数

引脚配置(Pin Configuration)

引脚排列图

引脚功能定义

复用功能说明

存储器映射(Memory Map)

地址空间分配

寄存器布局

时钟系统(Clock System)

时钟源选择

PLL配置

时钟树结构

外设模块(Peripherals)

每个外设的详细说明

寄存器描述

工作模式

电气特性(Electrical Characteristics)

工作电压范围

电流消耗

时序参数

封装信息(Package Information)

物理尺寸

散热特性

二、阅读重点和顺序
1. 第一步：快速浏览
查看关键参数：工作电压、主频、Flash/RAM大小、外设资源

看引脚图：确认封装是否与你的设计匹配

检查电气特性：确保符合你的电源设计

2. 第二步：深入核心部分
时钟系统：理解各种时钟源和配置方法

复位电路：复位源和复位条件

中断系统：中断向量表、优先级设置

3. 第三步：关注你需要的外设
通信接口：UART/I2C/SPI/CAN等协议的实现方式

定时器：基本定时、PWM、输入捕获等功能

ADC/DAC：分辨率、采样率、参考电压

三、关键内容精读方法
1. 寄存器配置
重点关注以下寄存器：

控制寄存器(CR)：功能开关和模式选择

状态寄存器(SR)：工作状态和错误标志

数据寄存器(DR)：数据输入输出

预分频寄存器(PSC)：时钟分频设置

2. 时序图分析
注意以下参数：

建立时间(Setup Time)

保持时间(Hold Time)

时钟上升/下降时间

信号有效窗口

3. 典型应用电路
参考手册提供的：

最小系统电路

外设接口电路

滤波和抗干扰设计

四、实用技巧
善用搜索：PDF手册中使用关键词搜索

做笔记：标记重要参数和配置步骤

对比参考代码：结合厂商提供的示例程序

关注勘误表：查看芯片已知问题和解决方案

建立寄存器速查表：整理常用寄存器的位定义

五、常见易忽略但重要的部分
芯片勘误表(Errata Sheet)：已知硬件问题及规避方法

启动流程(Boot Sequence)：从复位到main()的执行过程

低功耗模式：各种休眠模式的进入/退出方法

Flash编程：自编程操作的限制条件

ESD和锁存保护：芯片的健壮性设计

六、阅读示例：STM32系列手册重点
时钟树图：理解各种时钟源和分频关系

GPIO复用功能表：确定引脚的第二功能

NVIC章节：中断优先级分组设置

DMA控制器：内存到外设的数据传输配置

电源控制(PWR)：低功耗模式配置

记住，不需要一次性读完整个手册，应该根据开发进度按需阅读相关章节，并随着项目深入逐步掌握更多细节。

### 2. 集成电路IC模块

MAX485是一款常用的RS-485/RS-422通信收发器芯片，以下是阅读其数据手册的重点内容和方法：

一、MAX485手册核心结构
特性摘要(Features)

支持RS-485和RS-422标准

半双工通信

数据传输速率最高2.5Mbps

共模输入电压范围：-7V至+12V

引脚定义(Pin Configuration)

PIN | NAME    | FUNCTION
----|---------|-------------------
1   | RO      | 接收器输出
2   | RE      | 接收器使能(低有效)
3   | DE      | 驱动器使能(高有效)
4   | DI      | 驱动器输入
5   | GND     | 地
6   | A       | 非反向接收器输入/驱动器输出
7   | B       | 反向接收器输入/驱动器输出
8   | VCC     | 电源(4.75V至5.25V)
绝对最大额定值(Absolute Maximum Ratings)

电源电压：-0.3V至+7V

输入电压：-10V至+12V

工作温度范围：-40°C至+85°C

二、必须精读的关键章节
1. 功能框图(Functional Diagram)
理解内部收发器结构

驱动器与接收器的使能逻辑关系

信号流向示意图

2. 真值表(Truth Table)
RE | DE | 功能模式
---|----|-----------
0  | 0  | 接收使能
0  | 1  | 接收使能(DE无效)
1  | 0  | 驱动器高阻态
1  | 1  | 驱动器使能
3. 电气特性(Electrical Characteristics)
重点关注：

驱动器差分输出电压(VOD)

接收器输入灵敏度(±200mV)

静态电源电流(典型值300μA)

4. 典型应用电路(Typical Operating Circuits)
半双工RS-485网络连接方式

终端电阻匹配(120Ω)

失效保护偏置电阻配置

三、硬件设计关键点
终端电阻：

长距离传输必须加120Ω终端电阻

多点网络中只在两端设备加终端电阻

失效保护：

空闲状态时A线接上拉电阻，B线接下拉电阻

典型值：RA=RB=1kΩ

ESD保护：

虽然MAX485内置±15kV ESD保护

工业环境建议额外增加TVS管

电源去耦：

VCC与GND间加0.1μF陶瓷电容

位置尽量靠近芯片引脚

四、软件控制要点
使能信号控制：

c
// 发送模式
DE = 1; 
RE = 1;  // 某些设计RE可与DE并联

// 接收模式 
DE = 0;
RE = 0;
切换延时：

发送转接收需等待最后一个bit传输完成

典型延时 = 1位时间 + 50μs

总线竞争处理：

实现超时机制

避免多个节点同时发送

五、常见问题排查章节
热插拔问题：

上电顺序可能引起总线冲突

解决方案：使用具有热插拔功能的型号(如MAX3485)

共模电压超出范围：

检查各节点地电位差

考虑使用隔离型RS-485模块

通信距离限制：

理论最大1200米(速率≤100kbps)

实际距离受电缆质量、环境干扰影响

六、实际应用建议
PCB布局：

A/B走线保持平行等长

避免与高频信号线平行走线

网络节点数：

标准MAX485支持32个单元负载

使用1/4单位负载芯片可扩展至128节点

替代型号参考：

5V供电：MAX485、SN65HVD72

3.3V供电：MAX3485、SN65HVD75

防雷击型号：MAX485E、SP3485EN

建议配合官方评估板(EV Kit)资料和典型应用笔记(Application Notes)一起阅读，可以更快速掌握实际设计要点。遇到问题时，应重点查阅手册中的"Typical Performance Characteristics"曲线图和"Applications Information"章节。

### 4. 协议手册






## 参考资料

[PID控制器及其原理解释](https://www.ni.com/zh-cn/shop/labview/pid-theory-explained.html?srsltid=AfmBOoqWDqgwnvU19vFPLYO2AVHofH_WpVnJrkRhmNcJGRDRGauZNIqa)